<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ábaco Virtual de Inteiros</title>
    <style>
        /* CSS para estilização */
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            min-height: 100vh;
            background-color: #f0f0f0;
            color: #333;
        }

        /* O contêiner principal do ábaco */
        .abacus-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        /* O visor que mostra o valor total */
        .display {
            text-align: center;
            margin-bottom: 20px;
            padding: 15px;
            background-color: #e9ecef;
            border-radius: 8px;
            width: 250px;
        }

        .display h2 {
            margin: 0;
            font-size: 1.8em;
            color: #000;
        }

        .display #total-value {
            font-weight: bold;
            font-size: 1.5em;
        }

        .display .counts {
            display: flex;
            justify-content: space-around;
            margin-top: 10px;
            font-size: 0.9em;
        }

        /* Contêiner para as hastes, para alinhá-las */
        .rods-wrapper {
            display: flex;
            justify-content: center;
            gap: 80px; /* Espaço entre as duas hastes */
            margin-bottom: -15px; /* Sobrepõe levemente a base */
            position: relative;
            z-index: 1;
        }

        /* Estilo de cada haste */
        .rod {
            width: 15px;
            height: 350px;
            background-color: #c0c0c0; /* Cor de metal */
            border-radius: 8px 8px 0 0;
            position: relative;
            
            /* Chave para empilhar: flex-box reverso */
            display: flex;
            flex-direction: column-reverse; /* Discos são adicionados "por baixo" e empilham para cima */
            align-items: center;
            padding-bottom: 5px;
        }

        /* A base comum para as duas hastes */
        .base {
            width: 300px;
            height: 30px;
            background-color: #8B4513; /* Cor de madeira */
            border-radius: 0 0 10px 10px;
            border: 2px solid #5a2d0c;
            position: relative;
            z-index: 0;
        }

        /* Estilo dos discos */
        .disk {
            width: 60px;
            height: 35px;
            border-radius: 50%; /* Faz o disco parecer oval */
            margin-bottom: 5px;
            box-shadow: inset 0 -3px 5px rgba(0,0,0,0.3), 0 2px 3px rgba(0,0,0,0.2);
            transition: all 0.1s ease-in-out;
            flex-shrink: 0; /* Impede que os discos encolham */
        }

        /* Cores específicas dos discos */
        .disk.black {
            background-color: #222;
            border: 2px solid #000;
        }

        .disk.red {
            background-color: #d9534f; /* Vermelho */
            border: 2px solid #a94442;
        }

        /* Contêiner para os botões de controle */
        .controls {
            display: flex;
            justify-content: space-around;
            width: 100%;
            margin-top: 25px;
        }

        .control-group {
            text-align: center;
        }

        .control-group h3 {
            margin-top: 0;
            margin-bottom: 10px;
            font-weight: normal;
        }

        .control-group button {
            width: 50px;
            height: 50px;
            font-size: 2em;
            font-weight: bold;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            transition: background-color 0.2s;
            margin: 0 5px;
        }

        /* Botão Adicionar */
        .btn-add {
            background-color: #5cb85c; /* Verde */
            color: white;
        }
        .btn-add:hover {
            background-color: #4cae4c;
        }

        /* Botão Remover */
        .btn-remove {
            background-color: #f0ad4e; /* Laranja */
            color: white;
        }
        .btn-remove:hover {
            background-color: #ec971f;
        }
        .btn-remove:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }

    </style>
</head>
<body>

    <div class="abacus-container">
        
        <div class="display">
            <h2>Valor Total: <span id="total-value">0</span></h2>
            <div class="counts">
                <span id="count-left-display">Pretos (Positivos): 0</span>
                <span id="count-right-display">Vermelhos (Negativos): 0</span>
            </div>
        </div>

        <div class="rods-wrapper">
            <div class="rod" id="rod-left">
                </div>
            <div class="rod" id="rod-right">
                </div>
        </div>
        
        <div class="base"></div>

        <div class="controls">
            <div class="control-group">
                <h3>Positivos (Pretos)</h3>
                <button id="add-left" class="btn-add" title="Adicionar +1">+</button>
                <button id="remove-left" class="btn-remove" title="Remover +1" disabled>-</button>
            </div>
            <div class="control-group">
                <h3>Negativos (Vermelhos)</h3>
                <button id="add-right" class="btn-add" title="Adicionar -1">+</button>
                <button id="remove-right" class="btn-remove" title="Remover -1" disabled>-</button>
            </div>
        </div>

    </div>

    <script>
        // JavaScript para a interatividade

        // 1. Pegar referências dos elementos do HTML
        const rodLeft = document.getElementById('rod-left');
        const rodRight = document.getElementById('rod-right');

        const addLeftBtn = document.getElementById('add-left');
        const removeLeftBtn = document.getElementById('remove-left');
        const addRightBtn = document.getElementById('add-right');
        const removeRightBtn = document.getElementById('remove-right');

        const totalValueDisplay = document.getElementById('total-value');
        const countLeftDisplay = document.getElementById('count-left-display');
        const countRightDisplay = document.getElementById('count-right-display');

        // 2. Variáveis para guardar o estado (a contagem de discos)
        let countLeft = 0;
        let countRight = 0;

        // 3. Função para atualizar os visores e botões
        function updateDisplay() {
            // Calcula o valor total
            const total = countLeft - countRight;
            totalValueDisplay.textContent = total;

            // Atualiza as contagens individuais
            countLeftDisplay.textContent = `Pretos (Positivos): ${countLeft}`;
            countRightDisplay.textContent = `Vermelhos (Negativos): ${countRight}`;

            // Habilita/Desabilita botões de remoção conforme sua regra
            // (nunca menos do que 0 discos em CADA haste)
            removeLeftBtn.disabled = (countLeft === 0);
            removeRightBtn.disabled = (countRight === 0);
            
            // Muda a cor do total se for negativo
            if (total < 0) {
                totalValueDisplay.style.color = '#d9534f'; // Vermelho
            } else if (total > 0) {
                totalValueDisplay.style.color = '#333'; // Preto/Padrão
            } else {
                totalValueDisplay.style.color = '#777'; // Cinza para o zero
            }
        }

        // 4. Funções para adicionar e remover discos (elementos HTML)
        function addDisk(rodElement, colorClass) {
            const disk = document.createElement('div');
            disk.classList.add('disk', colorClass);
            rodElement.appendChild(disk); // Adiciona o disco na haste
        }

        function removeDisk(rodElement) {
            // 'lastChild' é o disco no topo da pilha (porque usamos flex-direction: column-reverse)
            if (rodElement.lastChild) {
                rodElement.removeChild(rodElement.lastChild);
            }
        }

        // 5. Adicionar os "Ouvintes de Eventos" (Listeners) para os cliques nos botões

        // Haste Esquerda (Pretos / Positivos)
        addLeftBtn.addEventListener('click', () => {
            countLeft++;
            addDisk(rodLeft, 'black');
            updateDisplay();
        });

        removeLeftBtn.addEventListener('click', () => {
            if (countLeft > 0) { // Garante a regra "nunca menos do que 0"
                countLeft--;
                removeDisk(rodLeft);
                updateDisplay();
            }
        });

        // Haste Direita (Vermelhos / Negativos)
        addRightBtn.addEventListener('click', () => {
            countRight++;
            addDisk(rodRight, 'red');
            updateDisplay();
        });

        removeRightBtn.addEventListener('click', () => {
            if (countRight > 0) { // Garante a regra "nunca menos do que 0"
                countRight--;
                removeDisk(rodRight);
                updateDisplay();
            }
        });

        // 6. Chamar a função de atualização uma vez no início para definir o estado inicial (0)
        updateDisplay();

    </script>
</body>
</html>
